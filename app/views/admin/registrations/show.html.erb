<% content_for :title, "Registration Details" %>

<div class="d-flex justify-between items-center mb-4">
  <h1>Registration Details</h1>
  <%= link_to "Back to Pending", admin_registrations_path, class: "btn btn-outline" %>
</div>

<div class="grid grid-cols-2 mb-4">
  <div class="card">
    <h3>User Information</h3>
    <div class="form-group">
      <label><strong>Name:</strong></label>
      <p><%= @registration.name %></p>
    </div>
    <div class="form-group">
      <label><strong>Email:</strong></label>
      <p><%= @registration.email %></p>
    </div>
    <div class="form-group">
      <label><strong>Requested Role:</strong></label>
      <p>
        <% case @registration.role_request %>
          <% when 'teacher_request' %>
            Teacher
          <% when 'parent_request' %>
            Parent
          <% when 'staff_request' %>
            Staff
          <% else %>
            N/A
        <% end %>
      </p>
    </div>
    <div class="form-group">
      <label><strong>Registration Date:</strong></label>
      <p><%= @registration.created_at.strftime("%B %d, %Y at %I:%M %p") %></p>
    </div>
  </div>

  <div class="card">
    <h3>Verification Information</h3>
    <div class="form-group">
      <label><strong>Verification Code:</strong></label>
      <p><%= @registration.verification_code %></p>
    </div>
    <div class="form-group">
      <label><strong>Account Status:</strong></label>
      <p>
        <% if @registration.approved? %>
          <span class="status-badge status-active">Approved</span>
        <% else %>
          <span class="status-badge status-inactive">Pending Approval</span>
        <% end %>
      </p>
    </div>
  </div>
</div>

<div class="d-flex justify-between">
  <%= link_to "Approve Registration", approve_admin_registration_path(@registration), method: :patch,
              class: "btn btn-primary",
              confirm: "Are you sure you want to approve this registration?" %>
  <%= link_to "Reject Registration", reject_admin_registration_path(@registration), method: :patch,
              class: "btn btn-danger",
              confirm: "Are you sure you want to reject this registration?" %>
</div>